<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>India SVG Museum Map</title>

    <link rel="stylesheet" type="text/css" href="nav.css" />
    <link rel="stylesheet" type="text/css" href="start.css" />
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow-y: auto;
      }
      svg {
        width: 600px;
        height: auto;
        border: 1px solid #ccc;
      }
      .city-circle {
        fill: url(#tricolor-gradient);
        cursor: pointer;
      }
      .city-label {
        font-size: 12px;
        text-anchor: middle;
      }
      .city-circle:hover {
        fill: orange;
      }
      #museums {
        margin-top: 20px;
        max-width: 600px;
        font-family: sans-serif;
      }
      #info-box {
        position: absolute; /* or fixed */
        top: 50px; /* adjust based on your layout */
        left: 55%; /* place it beside the SVG */
        width: 35%;
        max-height: 80vh;
        overflow-y: auto;
        padding: 20px;
        background-color: white;
        color: black;
        border-radius: 10px;
        box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.2);
        z-index: 1000;
      }
    </style>
  </head>
  <body class="background-container fade-in">
    <nav class="navbar">
      <ul>
        <li><a href="start.html" title="Home">Home</a></li>
        <li><a href="quiz.html" title="Quiz">Quiz</a></li>
        <li><a href="about.html" title="About">About</a></li>
        <li><a href="museums.html" title="Museums">Museums near you</a></li>
      </ul>
    </nav>
    <div class="content-container">
      <h2 style="color: white">Click on a city to view museums</h2>

      <svg viewBox="0 0 600 600">
        <defs>
          <linearGradient
            id="tricolor-gradient"
            x1="0%"
            y1="0%"
            x2="0%"
            y2="100%"
          >
            <stop offset="0%" style="stop-color: #ff6600; stop-opacity: 1" />
            <stop offset="50%" style="stop-color: #ffffff; stop-opacity: 1" />
            <stop offset="100%" style="stop-color: #138808; stop-opacity: 1" />
          </linearGradient>
        </defs>
        <!-- Map background (optional) -->
        <image href="indiamap.png" x="0" y="0" width="600" height="600" />

        <!-- Cities as clickable circles -->
        <circle
          class="city-circle"
          cx="230"
          cy="180"
          r="8"
          onclick="findMuseums('Delhi')"
        />
        <text x="230" y="175" class="city-label">Delhi</text>

        <circle
          class="city-circle"
          cx="170"
          cy="310"
          r="8"
          onclick="findMuseums('Mumbai')"
        />
        <text x="170" y="305" class="city-label">Mumbai</text>

        <circle
          class="city-circle"
          cx="380"
          cy="260"
          r="8"
          onclick="findMuseums('Kolkata')"
        />
        <text x="380" y="255" class="city-label">Kolkata</text>

        <circle
          class="city-circle"
          cx="230"
          cy="400"
          r="8"
          onclick="findMuseums('Bangalore')"
        />
        <text x="230" y="395" class="city-label">Bangalore</text>

        <circle
          class="city-circle"
          cx="270"
          cy="430"
          r="8"
          onclick="findMuseums('Chennai')"
        />
        <text x="270" y="425" class="city-label">Chennai</text>

        <circle
          class="city-circle"
          cx="260"
          cy="350"
          r="8"
          onclick="findMuseums('Hyderabad')"
        />
        <text x="260" y="345" class="city-label">Hyderabad</text>
        <!-- Additional Major Cities -->

        <!-- Ahmedabad -->
        <circle
          class="city-circle"
          cx="180"
          cy="280"
          r="8"
          onclick="findMuseums('Ahmedabad')"
        />
        <text x="180" y="275" class="city-label">Ahmedabad</text>

        <!-- Pune -->
        <circle
          class="city-circle"
          cx="180"
          cy="330"
          r="8"
          onclick="findMuseums('Pune')"
        />
        <text x="180" y="325" class="city-label">Pune</text>

        <!-- Jaipur -->
        <circle
          class="city-circle"
          cx="200"
          cy="220"
          r="8"
          onclick="findMuseums('Jaipur')"
        />
        <text x="200" y="215" class="city-label">Jaipur</text>

        <!-- Lucknow -->
        <circle
          class="city-circle"
          cx="270"
          cy="200"
          r="8"
          onclick="findMuseums('Lucknow')"
        />
        <text x="270" y="195" class="city-label">Lucknow</text>

        <!-- Bhopal -->
        <circle
          class="city-circle"
          cx="240"
          cy="260"
          r="8"
          onclick="findMuseums('Bhopal')"
        />
        <text x="240" y="255" class="city-label">Bhopal</text>

        <!-- Patna -->
        <circle
          class="city-circle"
          cx="340"
          cy="215"
          r="8"
          onclick="findMuseums('Patna')"
        />
        <text x="340" y="210" class="city-label">Patna</text>

        <!-- Chandigarh -->
        <circle
          class="city-circle"
          cx="210"
          cy="150"
          r="8"
          onclick="findMuseums('Chandigarh')"
        />
        <text x="210" y="145" class="city-label">Chandigarh</text>

        <!-- Varanasi -->
        <circle
          class="city-circle"
          cx="290"
          cy="230"
          r="8"
          onclick="findMuseums('Varanasi')"
        />
        <text x="290" y="225" class="city-label">Varanasi</text>

        <!-- Guwahati -->
        <circle
          class="city-circle"
          cx="450"
          cy="210"
          r="8"
          onclick="findMuseums('Guwahati')"
        />
        <text x="450" y="205" class="city-label">Guwahati</text>

        <!-- Thiruvananthapuram -->
        <circle
          class="city-circle"
          cx="225"
          cy="500"
          r="8"
          onclick="findMuseums('Thiruvananthapuram')"
        />
        <text x="225" y="495" class="city-label">Thiruvananthapuram</text>

        <!-- Vishakhapatnam -->
        <circle
          class="city-circle"
          cx="330"
          cy="340"
          r="8"
          onclick="findMuseums('Vishakhapatnam')"
        />
        <text x="330" y="335" class="city-label">Vizag</text>

        <!-- Srinagar -->
        <circle
          class="city-circle"
          cx="200"
          cy="80"
          r="8"
          onclick="findMuseums('Srinagar')"
        />
        <text x="200" y="75" class="city-label">Srinagar</text>

        <!-- Shimla -->
        <circle
          class="city-circle"
          cx="220"
          cy="135"
          r="8"
          onclick="findMuseums('Shimla')"
        />
        <text x="220" y="130" class="city-label">Shimla</text>

        <!-- Ranchi -->
        <circle
          class="city-circle"
          cx="320"
          cy="260"
          r="8"
          onclick="findMuseums('Ranchi')"
        />
        <text x="320" y="255" class="city-label">Ranchi</text>

        <!-- Mysore -->
        <circle
          class="city-circle"
          cx="220"
          cy="420"
          r="8"
          onclick="findMuseums('Mysore')"
        />
        <text x="220" y="415" class="city-label">Mysore</text>

        <!-- Udaipur -->
        <circle
          class="city-circle"
          cx="160"
          cy="240"
          r="8"
          onclick="findMuseums('Udaipur')"
        />
        <text x="160" y="235" class="city-label">Udaipur</text>

        <!-- Madurai -->
        <circle
          class="city-circle"
          cx="250"
          cy="470"
          r="8"
          onclick="findMuseums('Madurai')"
        />
        <text x="250" y="465" class="city-label">Madurai</text>

        <!-- Amritsar -->
        <circle
          class="city-circle"
          cx="200"
          cy="120"
          r="8"
          onclick="findMuseums('Amritsar')"
        />
        <text x="200" y="115" class="city-label">Amritsar</text>
      </svg>

      <div id="info-box" style="display: none">
        <h2 id="city-title"></h2>
        <div id="museums"></div>
        <button
          onclick="document.getElementById('info-box').style.display='none'"
        >
          Close
        </button>
      </div>
    </div>

    <script>
      window.onload = function () {
        document
          .querySelector(".content-container")
          .classList.add("slide-down");
      };
      async function findMuseums(city) {
        const box = document.getElementById("info-box");
        const output = document.getElementById("museums");
        const title = document.getElementById("city-title");

        title.textContent = `Museums in ${city}`;
        output.innerHTML = `<p>Loading museums in ${city}...</p>`;
        box.style.display = "block";

        try {
          const response = await fetch(
            `https://en.wikipedia.org/w/api.php?action=query&list=search&srsearch=museums+in+${encodeURIComponent(
              city
            )}&format=json&origin=*`
          );
          const data = await response.json();
          const results = data.query.search;

          if (results.length === 0) {
            output.innerHTML = `<p>No museums found in ${city}. Try a different city.</p>`;
          } else {
            output.innerHTML =
              "<ul>" +
              results
                .slice(0, 5)
                .map(
                  (item) =>
                    `<li><a href="https://en.wikipedia.org/?curid=${item.pageid}" target="_blank">${item.title}</a><br/><small>${item.snippet}...</small></li>`
                )
                .join("") +
              "</ul>";
          }
        } catch (err) {
          output.innerHTML = `<p>Error fetching museum data for ${city}. Please try again later.</p>`;
          console.error(err);
        }
      }
    </script>
  </body>
</html>
